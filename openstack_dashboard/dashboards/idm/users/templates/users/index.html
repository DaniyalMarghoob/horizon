{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "User" %}{% endblock %}

{% block page_header %}{% endblock page_header %}

{% block main %}
<div id="detailUser">
  <header>
    <h3 class="name">
      {{ user.username }} 
      {% if edit %}
      <a href="{% url 'horizon:idm:users:edit' user.id %}" class="small"><i class="fa fa-edit"></i><span>edit</span></a>
      {% endif %}
    </h3>
    <!--crear la carga de la imagen -->
    <div class="logo">
      <img alt="organization logo" src="{{ image }}">        
    </div>
  </header>
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="description">
        <h5>
          Description
        </h5>
          <div class="info expander">
            {% if user.description %}
            <p>{{ user.description }}</p>
            {% else %}
            <p class="n-avail">No description available</p>
            {% endif %}
          </div>
      </div> 
      {% if user.website %}
      <div class="contact_us">
        <h5>
          Website
        </h5>
        <div class ="info">
          <p>{{ user.website }}</p>
        </div>
      </div>
      {% endif %}
		</div>
	</div>
    


<div class="panel panel-default organizations" id="{{organizations_table.slugify_name}}">
  <div class="panel-heading">
    <span>{{ organizations_table }}</span>
    {{ organizations_table.render_table_actions }}
  </div>
  <div class="panel-body">
    {% if organizations_table.get_rows %}
    {{ organizations_table.render }}
    {% else %}
    <p class="alert alert-info empty"> {{ user_name }} does not have any organizations.</p>
    {% endif %}
  </div>
  {% if organizations_table.indexes|length > 1 and organizations_table.indexes %}
  <div class="panel-footer">
    <nav>
      <ul class="pagination">
            <!--<li>
              <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>-->
            <li {%if organizations_table.index_act = organizations_table.index_first %}class="active"{%endif%}>
              <a href="?index={{organizations_table.index_first}}#{{organizations_table.slugify_name}}"><span aria-hidden="true">First</span></a>
          </li>
            {% for index, num in organizations_table.indexes %}
            <li {% if organizations_table.index_act = index%}class="active"{%endif%}>
              <a href="?index_org={{index}}&index_app={{index_app}}#{{organizations_table.slugify_name}}">{{ num }}</a>
            </li>
            {% endfor %}
            <li {%if organizations_table.index_act = organizations_table.index_last %}class="active"{%endif%}>
              <a href="?index={{organizations_table.index_last}}#{{organizations_table.slugify_name}}"><span aria-hidden="true">Last</span></a>
          </li>
            <!--<li>
              <a href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>-->
          </ul>
        </nav>
      </div>
      {% endif %}
    </div>


  <div class="panel panel-default applications" id="{{applications_table.slugify_name}}">
    <div class="panel-heading">
      <span>{{ applications_table }}</span>
      {{ applications_table.render_table_actions }}
    </div>
    <div class="panel-body">
      {% if applications_table.get_rows %}
      {{ applications_table.render}}
      {% else %}
      <p class="alert alert-info empty"> {{ user_name }} does not have any applications.</p>
      {% endif %}
    </div>
    {% if applications_table.indexes|length > 1 and applications_table.indexes %}
    <div class="panel-footer">
      <nav>
        <ul class="pagination">

        <li {%if applications_table.index_act = applications_table.index_first %}class="active"{%endif%}>
              <a href="?index={{applications_table.index_first}}#{{applications_table.slugify_name}}"><span aria-hidden="true">First</span></a>
          </li>
          <!--<li>
            <a href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>-->
          {% for index, num in applications_table.indexes %}
          <li {% if applications_table.index_act = index%}class="active"{%endif%}>
            <a href="?index_org={{index_org}}&index_app={{index}}#{{applications_table.slugify_name}}">{{ num }}</a>
          </li>
          {% endfor %}
          <li {%if applications_table.index_act = applications_table.index_last %}class="active"{%endif%}>
              <a href="?index={{applications_table.index_last}}#{{applications_table.slugify_name}}"><span aria-hidden="true">Last</span></a>
          </li>
          <!--<li>
            <a href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>-->
        </ul>
      </nav>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
